# WCAG A11y Scanner

Reusable accessibility scanner CLI for any site (WP or non-WP):
- Pa11y JSON scanning
- custom keyboard audit (extra WCAG heuristics)
- per-page JSON + HTML report
- batch summary report
- XML sitemap crawling

## Install

```bash
cd tools/a11y-scanner
npm install
npm link
```

Then from any project:

```bash
wcag-a11y-scanner init --output-dir "wp-content/themes/YourTheme/a11y/reports"
```

## Commands

```bash
wcag-a11y-scanner scan page "https://example.local/about"
wcag-a11y-scanner scan list "a11y/urls.txt"
wcag-a11y-scanner scan xml "https://example.local/page-sitemap.xml"
```

## Output Directory Control

Priority order:
1. CLI flag: `--output-dir`
2. Env var: `A11Y_OUTPUT_DIR`
3. Config file: `.a11y-scanner.json` (`outputDir`)
4. Default: `a11y/reports`

Example:

```bash
wcag-a11y-scanner scan xml "https://example.local/page-sitemap.xml" --output-dir "./reports/a11y"
```

## Config File

Generated by `wcag-a11y-scanner init`:

```json
{
  "outputDir": "a11y/reports",
  "timeout": 120000,
  "wait": 1000,
  "includeWarnings": true,
  "includeNotices": false,
  "includeAll": false,
  "hideElements": [
    "#cmplz-cookiebanner-container",
    "#cmplz-manage-consent",
    ".grecaptcha-badge",
    "#lightbox"
  ]
}
```
